<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
  /*
  자바의 ArrayList가 자스의 배열과 비슷하니
   */
  function ArrayList(){
      this.length = 0;
      return this;
  }
  //ArrayList의 메서드를 한 번 구현하는게 숙제!
  //add,get,remove,set,size 등등
  ArrayList.prototype.add = function(pVal){

  }
  //연습삼아 $.each(배열,콜백함수)
  var $ = {}; //그냥 빈객체 => 네임스페이스용(like 자바의 패키지개념)
  $.each = function (pArr,pCallback) {
    for(let i=0;i<pArr.length;i++) {
        if (pCallback(i, pArr[i])) {
            break;
        } else {
            continue;
        }
    }
  }
  var tArr = ['monkey','lion','tiger','rabbit'];
  $.each(tArr,function (pIndex,pVal) {
    if(pIndex==1)  return true;
    alert( `${pIndex}번 째 값은 ${pVal}입니다.` )
  });

  var cArr = [];
  $.each(["choi","da","zzi","최","서","연"],function (pIndex,pValue){
    cArr.push(pValue);
  })
  alert("cArr: " + cArr);
  //자바스크립트 function 키워드는 자바나 C++의 class 키워드의 의미로도
  //쓰일 수 있음(실제 class 키워드가 추가 되었지만, 내부적으로 다시
  //function 키워드로 바뀌어 실행되기 때문에, 순수 자바스크립트(바닐라)에서는
  //function 키워드를 사용) => 아주 낯설 수 있음!

  //직접 배열 클래스(그냥 생성자라 부름)를 만들어 보며 이해하자.
  //class: 사용자 정의 데이터 타입!
  function myArray(){
    this.length = 0;//배열의 속성 length 초기값 0
    return this;  //안써도 됨!, 명시적 표현
  }
  //메서드는 공유영역(prototype)에 만드는 것이 일반적(메모리 절약)
  myArray.prototype.push = function (pArg) {
    this[this.length] = pArg; //JSON 배열식 접근법 사용.
    this.length++;  //추가 했으니 length 증가
    return this;  // 메서드 체인 가능
    // *주의*
    // 읽기 메서드에는 메서드 체이닝을 구현하지 않음
    // 리턴된 데이터 타입에 따라 거기에 맞는 메서드를 사용할 수 있음
  }

  // 배열의 forEach 메서드 구현
  // 매개변수 item, index 순서로 콜백함수를 호출
  myArray.prototype.forEach = function(pCallback) {
    for(let i = 0; i < this.length; i++) {
      pCallback(this[i],i); //item, index 순서
    }
  }
  var testArr = new myArray();  //생성

  testArr.push("apple").push("banana").push("tomato");
  console.log(testArr);

  testArr.forEach(function (pVal,pIndex){
    console.log("check",pVal,pIndex);
  });
  /*
  testArr.push("apple");
  testArr.push("banana");
  testArr.push("tomato");
  */
  //메서드 체인
</script>
</body>
</html>